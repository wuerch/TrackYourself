(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{545:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(761)}])},5465:function(e,t,s){"use strict";var n=s(5893);s(7294),t.Z=function(e){let{data:t,cbFunction:s}=e;return(0,n.jsx)("div",{className:"fixed h-full w-full inset-0 ] bg-[rgba(0,0,0,0.6)]",children:(0,n.jsx)("div",{className:"flex items-center h-full justify-center",children:(0,n.jsxs)("div",{className:"bg-stone-100 rounded w-3/4 h-1/4 md:w-1/2 flex justify-center items-center flex-col",children:[(0,n.jsx)("p",{className:"text-black",children:t}),(0,n.jsx)("button",{className:"text-black border-[1px] border-black rounded mt-6",children:(0,n.jsx)("p",{className:"px-2 py-1",onClick:s,children:"Okay"})})]})})})}},761:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var n=s(5893),a=s(9008),i=s.n(a),c=s(1664),r=s.n(c),l=s(5675),o=s.n(l),u=s(1163),d=s(7294),h=s(1955),m={src:"/_next/static/media/GoogleButton.5d03febe.png",height:92,width:382,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAAO0lEQVR42i3DQQrAIBADQP//QPEPYrpNNrq9FUoHpp24+rMrvD1tz8z8Soqq6i1ujPShxEUS/wWAtscLxew8KuMRqQYAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2},x=s(5465);function p(){let e=(0,u.useRouter)(),[t,s]=(0,d.useState)(""),[a,c]=(0,d.useState)(""),[l,p]=(0,d.useState)(!0),[f,g]=(0,d.useState)(!1);function j(e){var t=e.target.name;"email"===t?s(e.target.value):"password"===t&&c(e.target.value)}async function A(n){n.preventDefault(),await fetch("/auth/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})}).then(e=>e.json()).then(t=>{401==t.status&&p(e=>!e),200==t.status&&e.push("/weights"),400==t.status&&(g(e=>!e),s(""),c(""))})}return(0,d.useEffect)(()=>{let t=h.Z.get("x-auth-cookie");t&&fetch("/auth/access",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(e=>e.json()).then(t=>{200==t.status?(e.push("/weights"),console.log("200")):console.log(t)})},[]),(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen",children:[(0,n.jsx)(i(),{children:(0,n.jsx)("title",{children:"Home"})}),!1===l?(0,n.jsx)(x.Z,{cbFunction:()=>{p(e=>!e)},data:"Die Email ist noch nicht aktiviert."}):"",!0===f?(0,n.jsx)(x.Z,{cbFunction:()=>{g(e=>!e)},data:"Die Daten stimmen leider nicht."}):"",(0,n.jsx)(o(),{className:"cursor-pointer w-[240px]",src:m,onClick:()=>e.push("/auth/google")}),(0,n.jsxs)("div",{className:"flex w-60 md:w-80 items-center",children:[(0,n.jsx)("hr",{className:"h-[2px] basis-0 grow"}),(0,n.jsx)("p",{className:"p-2",children:"or"}),(0,n.jsx)("hr",{className:"h-[2px] basis-0 grow"})]}),(0,n.jsxs)("form",{onSubmit:A,action:"/auth/login",method:"POST",className:"flex flex-col",children:[(0,n.jsx)("input",{onChange:j,placeholder:"your@email.com",name:"email",value:t,className:"rounded mt-2 text-black w-40"}),(0,n.jsx)("input",{type:"password",onChange:j,placeholder:"password",name:"password",value:a,className:"rounded mt-2 text-black w-40"}),(0,n.jsx)("button",{className:"border-[1px] rounded mt-4",children:(0,n.jsx)("h1",{className:"gradient px-4 text-[32px] font-semibold mytransition transition",children:"Login"})})]}),(0,n.jsx)("p",{className:"mt-4",children:"You don't have an account?"}),(0,n.jsx)(r(),{href:"/register",className:"mt-4 border-[1px] rounded transition",children:(0,n.jsx)("p",{className:"p-2",children:"Register"})})]})}var f=p;p.getLayout=function(e){return(0,n.jsx)(n.Fragment,{children:e})}},9008:function(e,t,s){e.exports=s(3121)}},function(e){e.O(0,[321,774,888,179],function(){return e(e.s=545)}),_N_E=e.O()}]);